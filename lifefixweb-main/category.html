<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#FFB7B2">
  <title>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="page" style="max-width: 600px;">

    <div class="top-bar">
      <div class="app-title" style="font-size: 1.5rem; color: #FF6F61;">LifeFix Web üéà</div>
      <div>
        <button class="icon-btn" onclick="openHistory()">üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
        <button class="icon-btn" onclick="location.href='logout.html'">üö™ ‡∏≠‡∏≠‡∏Å</button>
      </div>
    </div>

    <h2>‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡∏Ñ‡∏£‡∏±‡∏ö?</h2>

    <div class="grid-container">
      <div class="category-item color-blue" onclick="goSolve('‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô')">
        <div style="font-size: 3rem;">üí∞</div>
        <div>‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô</div>
      </div>
      <div class="category-item color-green" onclick="goSolve('‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô')">
        <div style="font-size: 3rem;">üìö</div>
        <div>‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</div>
      </div>
      <div class="category-item color-pink" onclick="goSolve('‡∏≠‡∏≤‡∏´‡∏≤‡∏£')">
        <div style="font-size: 3rem;">üç±</div>
        <div>‡∏≠‡∏≤‡∏´‡∏≤‡∏£</div>
      </div>
      <div class="category-item color-yellow" onclick="goSolve('‡∏≠‡∏∑‡πà‡∏ô‡πÜ')">
        <div style="font-size: 3rem;">üß©</div>
        <div>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</div>
      </div>
    </div>

  </div>

  <script>
    function openHistory() {
      let u = localStorage.getItem("currentUser");
      let h = JSON.parse(localStorage.getItem("history_" + u) || "[]");
      if (h.length == 0) { alert("‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏à‡πâ‡∏≤"); return; }

      let t = "üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì\n\n";
      h.forEach(x => t += "‚Ä¢ " + x + "\n");
      alert(t);
    }

    function goSolve(type) {
      localStorage.setItem("cat", type);

      if (type === "‡∏≠‡∏≤‡∏´‡∏≤‡∏£") {
        location.href = "food.html";
      }
      else if (type === "‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô") {
        location.href = "study.html";
      }
      else if (type === "‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô") {
        location.href = "finance.html"; // ‚≠ê ‡πÄ‡∏û‡∏¥‡πà‡∏°
      }
      else {
        location.href = "problems.html";
      }
    }


    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js");
    }
  </script>

</body>

</html>